(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(e,t,n){e.exports=n("zUnb")},RnhZ:function(e,t,n){var a={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=i,e.exports=o,o.id="RnhZ"},zUnb:function(e,t,n){"use strict";n.r(t);var a=n("cUpR"),o=n("8Y7J"),i=n("SVse"),r=n("G0yt"),s=n("ZOsW"),c=n("s7LF");let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({imports:[[i.c,r.d,s.b,c.h,c.q]]}),e})();var u=n("omvX"),d=n("IheW"),b=n("aLe/"),p=n("rVqu"),g=n("iInd"),m=n("dgaq");let h=(()=>{class e{constructor(e,t){this.router=e,this.iconSet=t,t.icons=Object.assign({},m.a)}ngOnInit(){this.router.events.subscribe(e=>{e instanceof g.b&&window.scrollTo(0,0)})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(g.c),o.Nb(p.d))},e.\u0275cmp=o.Hb({type:e,selectors:[["body"]],features:[o.zb([p.d])],decls:1,vars:0,template:function(e,t){1&e&&o.Ob(0,"router-outlet")},directives:[g.h],encapsulation:2}),e})();const f=[{title:!0,name:"Explore the platform"},{name:"Reproduction Rate",url:"/reproduction-rate",icon:"icon-graph"},{name:"Unemployment Rate",url:"/unemployment-rate",icon:"icon-briefcase"},{name:"Reinforcement Learning",url:"/reinforcement-learning",icon:"icon-speedometer"},{divider:!0},{name:"About",url:"/about",icon:"icon-info"}];var y=n("Iluq");const v=function(){return["/reproduction-rate"]},S=function(){return{src:"assets/img/Logo_EPFL.svg",width:89,height:25,alt:"EPFL Logo"}},T=function(){return{src:"assets/img/Logo_EPFL.svg",width:30,height:30,alt:"EPFL Logo"}};let _=(()=>{class e{constructor(){this.sidebarMinimized=!1,this.navItems=f}toggleMinimize(e){this.sidebarMinimized=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-dashboard"]],decls:10,vars:14,consts:[[1,"app"],[3,"navbarBrandRouterLink","fixed","navbarBrandFull","navbarBrandMinimized","sidebarToggler","asideMenuToggler"],[1,"app-body"],[3,"fixed","display","minimized","minimizedChange"],["appSidebar",""],[3,"navItems","perfectScrollbar","disabled"],[1,"main","bg-light"],[1,"container-fluid"]],template:function(e,t){if(1&e&&(o.Tb(0,"div",0),o.Ob(1,"app-header",1),o.Tb(2,"div",2),o.Tb(3,"app-sidebar",3,4),o.dc("minimizedChange",function(e){return t.toggleMinimize(e)}),o.Ob(5,"app-sidebar-nav",5),o.Ob(6,"app-sidebar-minimizer"),o.Sb(),o.Tb(7,"main",6),o.Tb(8,"div",7),o.Ob(9,"router-outlet"),o.Sb(),o.Sb(),o.Sb(),o.Sb()),2&e){const e=o.uc(4);o.Ab(1),o.lc("navbarBrandRouterLink",o.oc(11,v))("fixed",!0)("navbarBrandFull",o.oc(12,S))("navbarBrandMinimized",o.oc(13,T))("sidebarToggler",!1)("asideMenuToggler",!1),o.Ab(2),o.lc("fixed",!0)("display","lg")("minimized",t.sidebarMinimized),o.Ab(2),o.lc("navItems",t.navItems)("disabled",e.minimized)}},directives:[y.d,y.f,y.i,b.a,y.g,g.h],encapsulation:2}),e})(),C=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-about"]],decls:22,vars:0,consts:[[1,"container"],[1,"mt-5","bg-white","rounded-3","p-5"],[1,"row","align-items-center"],[1,"col-6","d-flex","justify-content-center"],["src","assets/img/Logo_EPFL.svg"],["src","assets/img/iGH-logo.png",2,"width","192px"],[1,"mt-4","row"],[1,"col-12","text-center"],[1,"h2"],[1,"mt-3","row"],["href","https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3937561","target","_blank",1,"badge","badge-primary","p-2"],[1,"h4"],[1,"fa","fa-book","fa-lg"],[1,"mt-2"],["href","https://www.epfl.ch/labs/mlo/igh-intelligent-global-health/","target","_blank",1,"text-decoration-none","mt-2","p-2"],[1,"h5"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Tb(3,"div",3),o.Ob(4,"img",4),o.Sb(),o.Tb(5,"div",3),o.Ob(6,"img",5),o.Sb(),o.Sb(),o.Tb(7,"div",6),o.Tb(8,"div",7),o.Tb(9,"p",8),o.Dc(10,"Machine Learning and Optimization Laboratory"),o.Sb(),o.Sb(),o.Sb(),o.Tb(11,"div",9),o.Tb(12,"div",7),o.Tb(13,"div"),o.Tb(14,"a",10),o.Tb(15,"span",11),o.Ob(16,"i",12),o.Dc(17," Read our pubblication"),o.Sb(),o.Sb(),o.Sb(),o.Tb(18,"div",13),o.Tb(19,"a",14),o.Tb(20,"span",15),o.Dc(21,"Laboratory website"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb())},styles:[""]}),e})();const D="https://whatif-backend-api-zkpya36hlq-uc.a.run.app/api/v1/";let O=(()=>{class e{constructor(e){this.http=e}getPredictions(e,t,n="/predict_economic_personalized"){return this.http.post(D+e+n,t)}getOriginalPredictions(e,t="/predict_economic"){return this.http.get(D+e+t)}}return e.\u0275fac=function(t){return new(t||e)(o.ac(d.a))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const j=e=>{const t=e.get("total_population_all").value,n=e.get("total_population_below_1").value,a=e.get("total_population_1_to_4").value,o=e.get("total_population_5_to_14").value,i=e.get("total_population_15_to_24").value,r=e.get("total_population_25_to_34").value,s=e.get("total_population_35_to_54").value,c=e.get("total_population_55_to_74").value,l=e.get("total_population_above_75").value;return parseInt(t)!=parseInt(n)+parseInt(a)+parseInt(o)+parseInt(i)+parseInt(r)+parseInt(s)+parseInt(c)+parseInt(l)?{sumError:!0}:null};let I=(()=>{class e{}return e.DEAFULT_COUNTRY_KEY=1,e.DEFAULT_FROM_DATE=new r.a(2020,4,1),e.DEFAULT_TO_DATE=new r.a(2021,5,31),e.REPRODUCTION_FEATURES_TYPE="reproduction",e.UNEMPLOYMENT_FEATURES_TYPE="unemployment",e.REPRODUCTION_PREDICTION_KEY="reproductionPredictions",e.UNEMPLOYMENT_PREDICTION_KEY="unemploymentPredictions",e.SELECTED_COUNTRY_ID_KEY="selectedCountry",e.FROM_DATE_KEY="fromDate",e.TO_DATE_KEY="toDate",e.CONSTANT_FEATURES_ID="constantFeatures",e.VARIABLE_FEATURES_ID="variableFeatures",e})(),E=(()=>{class e{constructor(e){this.http=e}getPredictions(e,t,n="/predict_personalized"){return this.http.post(D+e+n,t)}getOriginalPredictions(e,t,n="/predict"){return this.http.post(D+e+n,t)}getSHAPValues(e,t="/get_shap_values"){return this.http.get(D+e+t)}}return e.\u0275fac=function(t){return new(t||e)(o.ac(d.a))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=n("HDdC");let k=(()=>{class e{constructor(e){this.http=e}getCountries(e,t="/get_countries"){return this.http.get(D+e+t)}getConstantFeatures(e,t="/get_constant_data"){let n=localStorage.getItem(I.CONSTANT_FEATURES_ID+e);return n?new w.a(e=>{e.next(JSON.parse(n))}):this.http.get(D+e+t)}getVariableFeatures(e,t,n,a="/get_variable_data"){let o=localStorage.getItem(I.VARIABLE_FEATURES_ID+t+n+e);return o?new w.a(e=>{e.next(JSON.parse(o))}):this.http.get(D+e+a,{params:{start_date:t,end_date:n}})}}return e.\u0275fac=function(t){return new(t||e)(o.ac(d.a))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function x(e,t){if(1&e&&(o.Tb(0,"div",2),o.Ob(1,"div",3),o.Tb(2,"p",4),o.Dc(3),o.Sb(),o.Sb()),2&e){const e=o.gc();o.Ab(3),o.Ec(e.message)}}function A(e,t){1&e&&o.jc(0,0,["*ngIf","!message"])}const N=[[["","pageContent",""]]],P=["[pageContent]"];let U=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-progress-loader"]],inputs:{message:"message"},ngContentSelectors:P,decls:2,vars:2,consts:[["class","w-100",4,"ngIf"],[4,"ngIf"],[1,"w-100"],["id","loader",1,"mx-auto","mt-5"],[1,"text-center","h4","mt-4"]],template:function(e,t){1&e&&(o.kc(N),o.Bc(0,x,4,1,"div",0),o.Bc(1,A,1,0,"ng-content",1)),2&e&&(o.lc("ngIf",t.message),o.Ab(1),o.lc("ngIf",!t.message))},directives:[i.m],styles:["#loader[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;border:8px solid #b3bec988;border-top-color:#0579ed;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),e})();function M(e,t){1&e&&(o.Tb(0,"span",4),o.Dc(1,"\u25cf"),o.Sb()),2&e&&o.Fb("filled",100===t.fill)}let R=(()=>{class e{constructor(){this.stringencyChange=new o.n}ngOnInit(){this.ctrl=new c.c(null,c.r.required),this.ctrl.setValue(this.stringency),this.ctrl.valueChanges.subscribe(e=>{this.stringencyChange.emit(e||0)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-stringency-level"]],inputs:{stringency:"stringency",maxLevel:"maxLevel"},outputs:{stringencyChange:"stringencyChange"},decls:8,vars:3,consts:[[1,"w-100","text-left"],[3,"max","formControl"],[1,"mt-2","mb-0","feature-text-small"],[1,"fa","fa-close","fa-lg",3,"click"],[1,"star"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"ngb-rating",1),o.Bc(2,M,2,2,"ng-template"),o.Sb(),o.Tb(3,"pre",2),o.Dc(4,"Stringency: "),o.Tb(5,"b"),o.Dc(6),o.Sb(),o.Sb(),o.Tb(7,"i",3),o.dc("click",function(){return t.ctrl.setValue(null)}),o.Sb(),o.Sb()),2&e&&(o.Ab(1),o.lc("max",t.maxLevel)("formControl",t.ctrl),o.Ab(5),o.Ec(t.stringency))},directives:[r.k,c.k,c.d],styles:[".feature-text[_ngcontent-%COMP%]{font-size:1em}.feature-text-small[_ngcontent-%COMP%]{font-size:.8em}.star[_ngcontent-%COMP%]{font-size:1.1rem;color:#b0c4de}.filled[_ngcontent-%COMP%]{color:#0077b6}"]}),e})();function L(e,t){if(1&e&&(o.Tb(0,"span"),o.Tb(1,"i"),o.Dc(2),o.Sb(),o.Dc(3," cannot be empty. Please enter a value"),o.Sb()),2&e){const e=o.gc(2).$implicit;o.Ab(2),o.Ec(e.fullName)}}function F(e,t){if(1&e&&(o.Tb(0,"span"),o.Dc(1,"The minumum value for "),o.Tb(2,"i"),o.Dc(3),o.Sb(),o.Dc(4),o.Sb()),2&e){const e=o.gc(2).$implicit,t=o.gc();o.Ab(3),o.Ec(e.fullName),o.Ab(1),o.Fc(" is ",t.minValue,"")}}function z(e,t){if(1&e&&(o.Tb(0,"span"),o.Dc(1,"The maximum value for "),o.Tb(2,"i"),o.Dc(3),o.Sb(),o.Dc(4),o.Sb()),2&e){const e=o.gc(2).$implicit,t=o.gc();o.Ab(3),o.Ec(e.fullName),o.Ab(1),o.Fc(" is ",t.maxValue,"")}}function V(e,t){if(1&e&&(o.Tb(0,"span"),o.Tb(1,"i"),o.Dc(2),o.Sb(),o.Dc(3," must be numeric"),o.Sb()),2&e){const e=o.gc(2).$implicit;o.Ab(2),o.Ec(e.fullName)}}function Y(e,t){if(1&e&&(o.Tb(0,"div",7),o.Bc(1,L,4,1,"span",8),o.Bc(2,F,5,2,"span",8),o.Bc(3,z,5,2,"span",8),o.Bc(4,V,4,1,"span",8),o.Sb()),2&e){const e=o.gc().$implicit,t=o.gc();o.Ab(1),o.lc("ngIf",t.getControl(e.name).errors.required),o.Ab(1),o.lc("ngIf",t.getControl(e.name).errors.min),o.Ab(1),o.lc("ngIf",t.getControl(e.name).errors.max),o.Ab(1),o.lc("ngIf",t.getControl(e.name).errors.pattern)}}function B(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div"),o.Tb(1,"div",3),o.Tb(2,"label",4),o.Dc(3),o.Sb(),o.Tb(4,"div",5),o.Tb(5,"input",6),o.dc("change",function(n){o.wc(e);const a=t.$implicit;return o.gc().onChange(a,n)}),o.Sb(),o.Bc(6,Y,5,4,"div",2),o.Sb(),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.gc();o.Ab(3),o.Ec(e.fullName),o.Ab(2),o.mc("formControlName",e.name),o.lc("value",e.value),o.Ab(1),o.lc("ngIf",n.getControl(e.name).errors)}}function H(e,t){if(1&e&&(o.Tb(0,"span"),o.Dc(1),o.Sb()),2&e){const e=o.gc().$implicit;o.Ab(1),o.Ec(e.message)}}function G(e,t){if(1&e&&(o.Rb(0),o.Bc(1,H,2,1,"span",8),o.Qb()),2&e){const e=t.$implicit,n=o.gc(3);o.Ab(1),o.lc("ngIf",n.group.errors[e.name])}}function K(e,t){if(1&e&&(o.Rb(0),o.Bc(1,G,2,1,"ng-container",1),o.Qb()),2&e){const e=t.$implicit;o.Ab(1),o.lc("ngForOf",e.errors)}}function q(e,t){if(1&e&&(o.Tb(0,"div",7),o.Bc(1,K,2,1,"ng-container",1),o.Sb()),2&e){const e=o.gc();o.Ab(1),o.lc("ngForOf",e.customValidators)}}let J=(()=>{class e{constructor(){this.groupValid=new o.n,this.featureChange=new o.n}ngOnInit(){let e=this.featuresGroup.reduce((e,t)=>Object.assign(e,{[t.name]:new c.c("",this.validators(t))}),{});this.group=new c.f(e),this.setValues()}setValues(){this.featuresGroup.forEach(e=>{this.getControl(e.name).setValue(e.value)})}initGroup(){var e;this.setValues(),null===(e=this.customValidators)||void 0===e||e.forEach(e=>{this.group.setValidators(e.validator)}),this.group.statusChanges.subscribe(e=>{this.groupValid.emit("VALID"==e)})}getControl(e){return this.group.get(e)}validators(e){return[c.r.required,c.r.min(e.range[0]),c.r.max(e.range[1]),c.r.pattern(/^-?(0|[1-9]\d*(\.\d+)?)$/)]}onChange(e,t){this.featureChange.emit({featureName:e.name,updatedValue:t.target.value})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-group-feature-selection"]],inputs:{featuresGroup:"featuresGroup",customValidators:"customValidators"},outputs:{groupValid:"groupValid",featureChange:"featureChange"},decls:3,vars:3,consts:[[3,"formGroup"],[4,"ngFor","ngForOf"],["class","mt-2 px-3 py-2 alert alert-danger","role","alert",4,"ngIf"],[1,"form-group","row"],["for","hf-email",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","placeholder","Enter a value..",1,"form-control",3,"formControlName","value","change"],["role","alert",1,"mt-2","px-3","py-2","alert","alert-danger"],[4,"ngIf"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Bc(1,B,7,4,"div",1),o.Sb(),o.Bc(2,q,2,1,"div",2)),2&e&&(o.lc("formGroup",t.group),o.Ab(1),o.lc("ngForOf",t.featuresGroup),o.Ab(1),o.lc("ngIf",t.group.errors))},directives:[c.l,c.g,i.l,i.m,c.b,c.k,c.e],styles:[""]}),e})();const W=["inputFeaturesGroup"];function Q(e,t){if(1&e&&(o.Tb(0,"th",19),o.Dc(1),o.Sb()),2&e){const e=t.$implicit;o.Ab(1),o.Fc(" ",e.fullName," ")}}function X(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td"),o.Tb(1,"app-stringency-level",23),o.dc("stringencyChange",function(n){o.wc(e);const a=t.index,i=o.gc().index;return o.gc(2).features.policies[a].value[i]=n}),o.Sb(),o.Sb()}if(2&e){const e=t.index,n=o.gc().index,a=o.gc(2);o.Ab(1),o.lc("stringency",a.features.policies[e].value[n])("maxLevel",a.features.policies[e].range[1])}}function Z(e,t){if(1&e&&(o.Tb(0,"tr"),o.Tb(1,"th",22),o.Dc(2),o.Sb(),o.Bc(3,X,2,2,"td",21),o.Sb()),2&e){const e=t.$implicit,n=o.gc(2);o.Ab(2),o.Ec(e),o.Ab(1),o.lc("ngForOf",n.features.policies)}}function $(e,t){if(1&e&&(o.Tb(0,"div",17),o.Tb(1,"table",18),o.Tb(2,"thead"),o.Tb(3,"tr"),o.Tb(4,"th",19),o.Dc(5,"#"),o.Sb(),o.Bc(6,Q,2,1,"th",20),o.Sb(),o.Sb(),o.Tb(7,"tbody"),o.Bc(8,Z,4,2,"tr",21),o.Sb(),o.Sb(),o.Sb()),2&e){const e=o.gc();o.Ab(6),o.lc("ngForOf",e.features.policies),o.Ab(2),o.lc("ngForOf",e.dates)}}function ee(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div"),o.Tb(1,"h5"),o.Dc(2,"Demographic features"),o.Sb(),o.Ob(3,"hr"),o.Tb(4,"app-group-feature-selection",24,25),o.dc("featureChange",function(t){return o.wc(e),o.gc().onFeatureChange("demographic",t)})("groupValid",function(t){return o.wc(e),o.gc().changeValidity("demographic",t)}),o.Sb(),o.Tb(6,"h5"),o.Dc(7,"Sanitary features"),o.Sb(),o.Ob(8,"hr"),o.Tb(9,"app-group-feature-selection",26,25),o.dc("featureChange",function(t){return o.wc(e),o.gc().onFeatureChange("sanitary",t)})("groupValid",function(t){return o.wc(e),o.gc().changeValidity("sanitary",t)}),o.Sb(),o.Sb(),o.Tb(11,"div"),o.Tb(12,"h5"),o.Dc(13,"Unemployment rate (%)"),o.Sb(),o.Ob(14,"hr"),o.Tb(15,"app-group-feature-selection",26,25),o.dc("featureChange",function(t){return o.wc(e),o.gc().onFeatureChange("economic",t)})("groupValid",function(t){return o.wc(e),o.gc().changeValidity("economic",t)}),o.Sb(),o.Sb(),o.Tb(17,"div"),o.Tb(18,"h5"),o.Dc(19,"GDP (mld)"),o.Sb(),o.Ob(20,"hr"),o.Tb(21,"app-group-feature-selection",26,25),o.dc("featureChange",function(t){return o.wc(e),o.gc().onFeatureChange("gdp",t)})("groupValid",function(t){return o.wc(e),o.gc().changeValidity("gdp",t)}),o.Sb(),o.Sb(),o.Tb(23,"div",27),o.Tb(24,"ngb-pagination",28),o.dc("pageChange",function(t){return o.wc(e),o.gc().pageNumber=t})("pageChange",function(t){return o.wc(e),o.gc().changePage(t)}),o.Sb(),o.Sb()}if(2&e){const e=o.gc();o.Ac("display",e.isPage[0]?"block":"none"),o.Ab(4),o.lc("featuresGroup",e.features.demographic)("customValidators",e.demographicValidators),o.Ab(5),o.lc("featuresGroup",e.features.sanitary),o.Ab(2),o.Ac("display",e.isPage[1]?"block":"none"),o.Ab(4),o.lc("featuresGroup",e.features.unemployment),o.Ab(2),o.Ac("display",e.isPage[2]?"block":"none"),o.Ab(4),o.lc("featuresGroup",e.features.gdp),o.Ab(3),o.lc("collectionSize",10*e.isPage.length)("page",e.pageNumber)("directionLinks",!1)}}const te=function(e){return[e]};let ne=(()=>{class e{constructor(e,t,n,a,o){this.route=e,this.countryDataService=t,this.reproductionRateService=n,this.unemploymentRateService=a,this.router=o,this.pageNumber=1,this.isPage=[!0,!1,!1],this.dates=[],this.demographicValidators=[{validator:j,errors:[{name:"sumError",message:"The sum of the population stratified by age should be equal to the total population of the country"}]}],this.isoCode="",this.startDate="",this.endDate="",this.countryName="",this.type="",this.isGroupValid={demographic:!0,sanitary:!0,unemployment:!0,gdp:!0},this.features={demographic:[{fullName:"Total population",name:"total_population_all",value:40,range:[0,2e9],isUsed:!1},{fullName:"Total population under 1 years old",name:"total_population_below_1",value:40,range:[0,2e9],isUsed:!1},{fullName:"Total population between 1 and 4 years old",name:"total_population_1_to_4",value:40,range:[0,2e9],isUsed:!1},{fullName:"Total population between 5 and 14 years old",name:"total_population_5_to_14",value:40,range:[0,2e9],isUsed:!1},{fullName:"Total population between 15 and 24 years old",name:"total_population_15_to_24",value:40,range:[0,2e9],isUsed:!1},{fullName:"Total population between 25 and 34 years old",name:"total_population_25_to_34",value:40,range:[0,2e9],isUsed:!1},{fullName:"Total population between 35 and 54 years old",name:"total_population_35_to_54",value:40,range:[0,2e9],isUsed:!1},{fullName:"Total population between 55 and 74 years old",name:"total_population_55_to_74",value:40,range:[0,2e9],isUsed:!1},{fullName:"Total population above 75 years old",name:"total_population_above_75",value:40,range:[0,2e9],isUsed:!1},{fullName:"Population percentage over 60 years old",name:"population_percentage_over_60",value:10,range:[0,100],isUsed:!1}],sanitary:[{fullName:"Number of hospital beds per 1000 people",name:"hospital_beds_per_1000",value:10,range:[0,15],isUsed:!1},{fullName:"Number of physicians per 1000 people",name:"physicians_per_1000",value:10,range:[0,15],isUsed:!1},{fullName:"Number of nurses per 1000 people",name:"nurses_per_1000",value:10,range:[0,20],isUsed:!1}],unemployment:[{fullName:"Unemployment rate (31/03/2019)",name:"unemployment_rate_2019_03_31",value:40,range:[0,100],isUsed:!1},{fullName:"Unemployment rate (30/06/2019)",name:"unemployment_rate_2019_06_30",value:40,range:[0,100],isUsed:!1},{fullName:"Unemployment rate (30/09/2019)",name:"unemployment_rate_2019_09_30",value:40,range:[0,100],isUsed:!1},{fullName:"Unemployment rate (31/12/2019)",name:"unemployment_rate_2019_12_31",value:40,range:[0,100],isUsed:!1},{fullName:"Unemployment rate (31/03/2020)",name:"unemployment_rate_2020_03_31",value:40,range:[0,100],isUsed:!1},{fullName:"Unemployment rate (30/06/2020)",name:"unemployment_rate_2020_06_30",value:40,range:[0,100],isUsed:!1},{fullName:"Unemployment rate (30/09/2020)",name:"unemployment_rate_2020_09_30",value:40,range:[0,100],isUsed:!1},{fullName:"Unemployment rate (31/12/2020)",name:"unemployment_rate_2020_12_31",value:40,range:[0,100],isUsed:!1},{fullName:"Unemployment rate (31/03/2021)",name:"unemployment_rate_2021_03_31",value:40,range:[0,100],isUsed:!1},{fullName:"Unemployment rate (30/06/2021)",name:"unemployment_rate_2021_06_30",value:40,range:[0,100],isUsed:!1},{fullName:"Unemployment rate (30/09/2021)",name:"unemployment_rate_2021_09_30",value:40,range:[0,100],isUsed:!1},{fullName:"Unemployment rate (31/12/2021 - forecast)",name:"unemployment_rate_2021_12_31",value:40,range:[0,100],isUsed:!1}],gdp:[{fullName:"GDP (31/03/2019)",name:"gdp_2019_03_31",value:40,range:[0,1e5],isUsed:!1},{fullName:"GDP (30/06/2019)",name:"gdp_2019_06_30",value:40,range:[0,1e5],isUsed:!1},{fullName:"GDP (30/09/2019)",name:"gdp_2019_09_30",value:40,range:[0,1e5],isUsed:!1},{fullName:"GDP (31/12/2019)",name:"gdp_2019_12_31",value:40,range:[0,1e5],isUsed:!1},{fullName:"GDP (31/03/2020)",name:"gdp_2020_03_31",value:40,range:[0,1e5],isUsed:!1},{fullName:"GDP (30/06/2020)",name:"gdp_2020_06_30",value:40,range:[0,1e5],isUsed:!1},{fullName:"GDP (30/09/2020)",name:"gdp_2020_09_30",value:40,range:[0,1e5],isUsed:!1},{fullName:"GDP (31/12/2020)",name:"gdp_2020_12_31",value:40,range:[0,1e5],isUsed:!1},{fullName:"GDP (31/03/2021)",name:"gdp_2021_03_31",value:40,range:[0,1e5],isUsed:!1},{fullName:"GDP (30/06/2021)",name:"gdp_2021_06_30",value:40,range:[0,1e5],isUsed:!1},{fullName:"GDP (30/09/2021)",name:"gdp_2021_09_30",value:40,range:[0,1e5],isUsed:!1},{fullName:"GDP (31/12/2021 - forecast)",name:"gdp_2021_12_31",value:40,range:[0,1e5],isUsed:!1}],policies:[{fullName:"School closing",name:"school_closing",value:[1,2,3],range:[0,3],isUsed:!1},{fullName:"Workplace closing",name:"workplace_closing",value:[1,2,3],range:[0,3],isUsed:!1},{fullName:"Canceling public events",name:"cancel_public_events",value:[1,2,3],range:[0,2],isUsed:!1},{fullName:"Restrictions on gatherings size",name:"restrictions_on_gatherings",value:[1,2,3],range:[0,4],isUsed:!1},{fullName:"Closing public transports",name:"close_public_transport",value:[1,2,3],range:[0,2],isUsed:!1},{fullName:"Stay at home requirements",name:"stay_at_home_requirements",value:[1,2,3],range:[0,3],isUsed:!1},{fullName:"Public information campaigns",name:"public_information_campaigns",value:[1,2,3],range:[0,2],isUsed:!1},{fullName:"Restrictions on internal movement",name:"restrictions_on_internal_movement",value:[1,2,3],range:[0,2],isUsed:!1},{fullName:"International travelling controls",name:"international_travel_controls",value:[1,2,3],range:[0,4],isUsed:!1}]},this.features_to_drop_unemployment=["unemployment_rate_2020_03_31","unemployment_rate_2020_06_30","unemployment_rate_2020_09_30","unemployment_rate_2020_12_31","unemployment_rate_2021_03_31","unemployment_rate_2021_06_30"]}ngAfterViewInit(){this.featuresGroups.forEach(e=>e.initGroup())}ngOnInit(){this.init()}init(){this.loadingMessage="Fetching data...",this.route.params.subscribe(e=>{this.isoCode=e.country,this.countryDataService.getConstantFeatures(this.isoCode).subscribe(e=>{console.log(e),Object.keys(this.features).forEach(t=>{this.updateCategory(t,e)}),this.route.queryParams.subscribe(e=>{this.startDate=e.start_date,this.endDate=e.end_date,this.countryName=e.country_name,this.type=e.type,this.type==I.UNEMPLOYMENT_FEATURES_TYPE?(this.goBackLink="/unemployment-rate",this.features.unemployment=this.features.unemployment.filter(e=>!this.features_to_drop_unemployment.includes(e.name))):this.goBackLink="/reproduction-rate",this.countryDataService.getVariableFeatures(this.isoCode,this.startDate,this.endDate).subscribe(e=>{console.log(e),this.dates=e.dates,this.updateCategory("policies",e.policies),Object.keys(this.features).forEach(e=>{this.features[e]=this.features[e].filter(e=>e.isUsed)}),this.loadingMessage=null})})})})}changeValidity(e,t){this.isGroupValid[e]=t}isFormValid(){let e=!0;return Object.keys(this.isGroupValid).forEach(t=>{this.isGroupValid[t]||(e=!1)}),e}updateCategory(e,t){this.features[e].forEach((n,a)=>{n.name in t&&(this.features[e][a].isUsed=!0,this.changeSingleFeature(e,n.name,t[n.name]))})}changeSingleFeature(e,t,n){let a=this.features[e].find(e=>e.name==t);a&&(a.value=n)}onFeatureChange(e,t){this.changeSingleFeature(e,t.featureName,t.updatedValue.toString())}changeValue(e,t,n){this.changeSingleFeature(e,t,n.target.value)}changePage(e){for(let t=0;t<this.isPage.length;t++)this.isPage[t]=!1;this.isPage[e-1]=!0}clearStorage(){localStorage.removeItem(I.CONSTANT_FEATURES_ID+this.isoCode),localStorage.removeItem(I.VARIABLE_FEATURES_ID+this.startDate+this.endDate+this.isoCode),localStorage.removeItem(I.REPRODUCTION_PREDICTION_KEY+this.startDate+this.endDate+this.isoCode),setTimeout(()=>{window.location.reload()},1e3)}predict(){let e={};Object.keys(this.features).forEach(t=>{"policies"!=t&&(e=Object.assign(Object.assign({},e),this.features[t].reduce((e,t)=>Object.assign(e,{[t.name]:t.value}),{})))});let t=this.features.policies.reduce((e,t)=>Object.assign(e,{[t.name]:t.value}),{});localStorage.setItem(I.VARIABLE_FEATURES_ID+this.startDate+this.endDate+this.isoCode,JSON.stringify({dates:this.dates,policies:t})),localStorage.setItem(I.CONSTANT_FEATURES_ID+this.isoCode,JSON.stringify(e));let n={start_date:this.startDate,end_date:this.endDate,features:{constant:e,variable:t}};console.log(n),this.type==I.REPRODUCTION_FEATURES_TYPE?this.reproductionRateService.getPredictions(this.isoCode,n).subscribe(e=>{console.log(e),localStorage.setItem(I.REPRODUCTION_PREDICTION_KEY+this.startDate+this.endDate+this.isoCode,JSON.stringify(e)),this.router.navigate(["/reproduction-rate"])}):this.unemploymentRateService.getPredictions(this.isoCode,n).subscribe(e=>{console.log(e),localStorage.setItem(I.UNEMPLOYMENT_PREDICTION_KEY+this.isoCode,JSON.stringify(e)),this.router.navigate(["/unemployment-rate"])}),this.loadingMessage="Making predictions..."}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(g.a),o.Nb(k),o.Nb(E),o.Nb(O),o.Nb(g.c))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-features-selection"]],viewQuery:function(e,t){if(1&e&&o.Ic(W,1),2&e){let e;o.tc(e=o.ec())&&(t.featuresGroups=e)}},decls:30,vars:9,consts:[[3,"message"],["pageContent","",1,"animated","fadeIn"],[1,"mt-2"],[1,"text-muted"],[1,"pb-2"],["type","button",1,"btn","btn-warning","float-right","d-flex","align-items-center",3,"click"],[1,"cil-action-undo","mr-2"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[1,"row","justify-content-around","my-5"],[1,"col-4"],["type","button",1,"btn","btn-block","btn-lg","btn-danger",3,"routerLink"],["type","button",1,"btn","btn-block","btn-lg","btn-success",3,"disabled","click"],[2,"overflow-x","scroll"],[1,"table","table-striped","w-100"],["scope","col",1,"feature-text",2,"width","10%"],["scope","col","style","width: 10%","class","feature-text",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","row",1,"feature-text"],[3,"stringency","maxLevel","stringencyChange"],[3,"featuresGroup","customValidators","featureChange","groupValid"],["inputFeaturesGroup",""],[3,"featuresGroup","featureChange","groupValid"],[1,"d-flex","justify-content-end"],["size","md",3,"collectionSize","page","directionLinks","pageChange"]],template:function(e,t){if(1&e&&(o.Tb(0,"app-progress-loader",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Tb(3,"h2"),o.Dc(4),o.Sb(),o.Tb(5,"p",3),o.Dc(6),o.Sb(),o.Sb(),o.Tb(7,"div",4),o.Tb(8,"button",5),o.dc("click",function(){return t.clearStorage()}),o.Ob(9,"i",6),o.Tb(10,"span"),o.Dc(11,"Revert to the original values"),o.Sb(),o.Sb(),o.Sb(),o.Tb(12,"ul",7,8),o.Tb(14,"li",9),o.Tb(15,"a",10),o.Dc(16,"Variable features"),o.Sb(),o.Bc(17,$,9,2,"ng-template",11),o.Sb(),o.Tb(18,"li",9),o.Tb(19,"a",10),o.Dc(20,"Constant features"),o.Sb(),o.Bc(21,ee,25,14,"ng-template",11),o.Sb(),o.Sb(),o.Ob(22,"div",12),o.Tb(23,"div",13),o.Tb(24,"div",14),o.Tb(25,"button",15),o.Dc(26," Go back "),o.Sb(),o.Sb(),o.Tb(27,"div",14),o.Tb(28,"button",16),o.dc("click",function(){return t.predict()}),o.Dc(29," Predict "),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb()),2&e){const e=o.uc(13);o.lc("message",t.loadingMessage),o.Ab(4),o.Fc("Features selection for ",t.countryName,""),o.Ab(2),o.Gc(" Change the values of your features for the period: ",t.startDate," : ",t.endDate," "),o.Ab(16),o.lc("ngbNavOutlet",e),o.Ab(3),o.lc("routerLink",o.pc(7,te,t.goBackLink)),o.Ab(3),o.lc("disabled",!t.isFormValid())}},directives:[U,r.e,r.g,r.h,r.f,r.i,g.d,i.l,R,J,r.j],styles:[""]}),e})();function ae(e,t){if(1&e&&(o.Tb(0,"div",5),o.Tb(1,"div",6),o.Tb(2,"div",7),o.Dc(3),o.Sb(),o.Sb(),o.Sb()),2&e){const e=o.gc();o.Ab(2),o.lc("innerHTML",e.description,o.xc),o.Ab(1),o.Fc(" ",e.description," ")}}let oe=(()=>{class e{constructor(){this.showDetails=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-details-box"]],inputs:{title:"title",description:"description",icon:"icon"},decls:7,vars:5,consts:[["class","row mb-3 animated fadeIn",4,"ngIf"],[1,"row","align-items-center","h-250","bottom-bar-light",3,"mouseover","mouseout"],[1,"col-12"],[1,"text-center","py-5","h4"],[1,"mb-3"],[1,"row","mb-3","animated","fadeIn"],[1,"col-12","pr-0","bottom-bar-dark","rounded-top"],[1,"fs-18","m-3",3,"innerHTML"]],template:function(e,t){1&e&&(o.Bc(0,ae,4,2,"div",0),o.Tb(1,"div",1),o.dc("mouseover",function(){return t.showDetails=!0})("mouseout",function(){return t.showDetails=!1}),o.Tb(2,"div",2),o.Tb(3,"div",3),o.Tb(4,"div",4),o.Ob(5,"i"),o.Sb(),o.Dc(6),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.lc("ngIf",t.showDetails),o.Ab(5),o.Db("",t.icon," icon-large"),o.Ab(1),o.Fc(" ",t.title," "))},directives:[i.m],styles:[".fs-18[_ngcontent-%COMP%]{font-size:18px}.h-250[_ngcontent-%COMP%]{height:250px}.bottom-bar-dark[_ngcontent-%COMP%]{background-color:#353b3c;color:#fff}.bottom-bar-light[_ngcontent-%COMP%]{background-color:#eef0f2;color:#000}.icon-large[_ngcontent-%COMP%]{font-size:64px}"]}),e})();var ie=n("x4NA");function re(e,t){if(1&e){const e=o.Ub();o.Tb(0,"span",8),o.dc("complete",function(){return o.wc(e),o.gc().onTypingAnimationComplete()}),o.Dc(1),o.Sb()}if(2&e){const e=o.gc();o.lc("typeSpeed",50)("startDelay",100)("hideCursorOnComplete",!0),o.Ab(1),o.Hc(" we ",e.X," ",e.Y," in ",e.Z,"?")}}let se=(()=>{class e{constructor(){this.showDetails=!1,this.start=!1,this.XSet=["intensified","relaxed","extended","shortened"],this.YSet=["school closing","workplace closing","canceling public events","restrictions on gatherings","public transport closing","stay at home requirements","public information campaigns","restrictions on internal movement","international travel controls"],this.ZSet=["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czechia","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","the United Kingdom"]}ngOnInit(){this.onTypingAnimationComplete()}onTypingAnimationComplete(){setTimeout(()=>this.start=!1,1e3),this.X=this.XSet[this.getRandomInt(this.XSet.length)];do{this.Y=this.YSet[this.getRandomInt(this.YSet.length)]}while("intesified"!=this.X&&"public information campaigns"==this.Y);this.Z=this.ZSet[this.getRandomInt(this.ZSet.length)],setTimeout(()=>this.start=!0,1e3)}getRandomInt(e){return Math.floor(Math.random()*e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-home-layout"]],decls:16,vars:14,consts:[[1,"bg-image","w-100","h-100"],[1,"container","bg-text","text-center","animated","fadeInUp"],[1,"text-left","display-4",2,"height","130px"],["typingAnimation","",3,"typeSpeed","startDelay","hideCursorOnComplete","complete",4,"ngIf"],[1,"h2","mt-5"],["type","button",1,"btn","btn-block","btn-pill","btn-outline-light","mx-auto","my-button","mt-4",3,"routerLink"],[1,"row","align-items-end","fixed-bottom"],[1,"col-3",3,"title","description","icon"],["typingAnimation","",3,"typeSpeed","startDelay","hideCursorOnComplete","complete"]],template:function(e,t){1&e&&(o.Ob(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"h1",2),o.Tb(3,"b"),o.Tb(4,"i"),o.Dc(5,"WHAT IF "),o.Sb(),o.Sb(),o.Bc(6,re,2,6,"span",3),o.Sb(),o.Tb(7,"h6",4),o.Dc(8,"What COVID-19 policies would you have put in place?"),o.Sb(),o.Tb(9,"button",5),o.Dc(10," Explore the platform "),o.Sb(),o.Sb(),o.Tb(11,"div",6),o.Ob(12,"app-details-box",7),o.Ob(13,"app-details-box",7),o.Ob(14,"app-details-box",7),o.Ob(15,"app-details-box",7),o.Sb()),2&e&&(o.Ab(6),o.lc("ngIf",t.start),o.Ab(3),o.lc("routerLink","/reproduction-rate"),o.Ab(3),o.lc("title","Visualize the impact of COVID policies in your country")("description","Explore how your government responded to the pandemic in your country, and see which policies were most effective")("icon","cil-graph"),o.Ab(1),o.lc("title","Make a country-specific evidence-based response strategy")("description","Test the effect of changing COVID policies on a digital twin of your country")("icon","fa fa-question-circle"),o.Ab(1),o.lc("title","Understand the economic cost of policies")("description","The AI algorithm computes the economic cost of restrictions in terms of unemployment and find the optimal policies that minimize both COVID spread and economic damage")("icon","cil-money"),o.Ab(1),o.lc("title","An (almost) global model")("description","This proof of concept includes 28 European countries...but 116 more are coming soon.")("icon","cil-globe-alt"))},directives:[i.m,g.d,oe,ie.a],styles:[".bg-image[_ngcontent-%COMP%]{background-image:url(bg-welcome-page.01afa938b070ea64d858.jpg);background-position:50%;background-repeat:no-repeat;background-size:cover;opacity:50%}.bg-text[_ngcontent-%COMP%]{color:#fff;font-weight:700;position:absolute;top:5%;left:50%;transform:translate(-50%,10%);z-index:2;width:80%}.my-button[_ngcontent-%COMP%]{width:350px;font-size:24px}@keyframes fadeInUp{0%{opacity:0;transform:translate3d(-50%,40%,0)}to{opacity:1;transform:translate3d(-50%,10%,0)}}.fadeInUp[_ngcontent-%COMP%]{animation-name:fadeInUp}"]}),e})(),ce=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["ng-component"]],decls:19,vars:0,consts:[[1,"app","flex-row","align-items-center"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"clearfix"],[1,"float-left","display-3","mr-4"],[1,"pt-3"],[1,"text-muted"],[1,"input-prepend","input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-search"],["id","prependedInput","size","16","type","text","placeholder","What are you looking for?",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-info"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Tb(3,"div",3),o.Tb(4,"div",4),o.Tb(5,"h1",5),o.Dc(6,"404"),o.Sb(),o.Tb(7,"h4",6),o.Dc(8,"Oops! You're lost."),o.Sb(),o.Tb(9,"p",7),o.Dc(10,"The page you are looking for was not found."),o.Sb(),o.Sb(),o.Tb(11,"div",8),o.Tb(12,"div",9),o.Tb(13,"span",10),o.Ob(14,"i",11),o.Sb(),o.Sb(),o.Ob(15,"input",12),o.Tb(16,"span",13),o.Tb(17,"button",14),o.Dc(18,"Search"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb())},encapsulation:2}),e})(),le=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["ng-component"]],decls:19,vars:0,consts:[[1,"app","flex-row","align-items-center"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"clearfix"],[1,"float-left","display-3","mr-4"],[1,"pt-3"],[1,"text-muted"],[1,"input-prepend","input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fa","fa-search"],["id","prependedInput","size","16","type","text","placeholder","What are you looking for?",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-info"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Tb(3,"div",3),o.Tb(4,"div",4),o.Tb(5,"h1",5),o.Dc(6,"500"),o.Sb(),o.Tb(7,"h4",6),o.Dc(8,"Houston, we have a problem!"),o.Sb(),o.Tb(9,"p",7),o.Dc(10,"The page you are looking for is temporarily unavailable."),o.Sb(),o.Sb(),o.Tb(11,"div",8),o.Tb(12,"div",9),o.Tb(13,"span",10),o.Ob(14,"i",11),o.Sb(),o.Sb(),o.Ob(15,"input",12),o.Tb(16,"span",13),o.Tb(17,"button",14),o.Dc(18,"Search"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb())},encapsulation:2}),e})(),ue=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-reinforcement-learning"]],decls:2,vars:0,consts:[[1,"text-center","mt-5","display-4"]],template:function(e,t){1&e&&(o.Tb(0,"p",0),o.Dc(1,"Work in progress... \ud83d\udd27"),o.Sb())},styles:[""]}),e})(),de=(()=>{class e{constructor(){this.y=[{data:[]}],this.x=[]}}return e.colors=[{backgroundColor:"#000000"}],e.options={responsive:!0,scales:{type:"linear",xAxes:[{scaleLabel:{display:!0,labelString:"Relative impact (\u27a1\ufe0f More effective  \u2b05\ufe0f Less effective)",fontSize:16},display:!0,ticks:{beginAtZero:!0}}]}},e.horizontalType="horizontalBar",e.verticalType="bar",e.legend=!1,e.height=100,e})();var be=n("NuRj"),pe=n("H++W");let ge=(()=>{class e{constructor(){this.y=[],this.x=[]}}return e.options={tooltips:{enabled:!1,custom:pe.CustomTooltips,intersect:!0,mode:"index",position:"nearest",callbacks:{labelColor:function(e,t){return{backgroundColor:t.data.datasets[e.datasetIndex].borderColor}}}},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawOnChartArea:!1},ticks:{maxTicksLimit:30}}],yAxes:[{ticks:{beginAtZero:!0,maxTicksLimit:10,stepSize:.25,max:2}}]},elements:{line:{borderWidth:2},point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}},legend:{display:!0}},e.colors=[{backgroundColor:"transparent",borderColor:Object(be.getStyle)("--primary"),pointHoverBackgroundColor:"#fff"},{backgroundColor:"transparent",borderColor:Object(be.getStyle)("--success"),pointHoverBackgroundColor:"#fff"},{backgroundColor:Object(be.hexToRgba)(Object(be.getStyle)("--danger"),10),borderColor:Object(be.getStyle)("--danger"),pointHoverBackgroundColor:"#fff",borderWidth:1,borderDash:[8,5]},{backgroundColor:"transparent",borderColor:Object(be.getStyle)("--dark"),pointHoverBackgroundColor:"#fff",borderWidth:1}],e.legend=!0,e.type="line",e})();const me=["content"];function he(e,t){if(1&e&&(o.Tb(0,"div",1),o.Tb(1,"h4",2),o.Dc(2),o.Sb(),o.Tb(3,"button",3),o.dc("click",function(){return t.$implicit.dismiss("Cross click")}),o.Tb(4,"span",4),o.Dc(5,"\xd7"),o.Sb(),o.Sb(),o.Sb(),o.Tb(6,"div",5),o.jc(7),o.Sb(),o.Tb(8,"div",6),o.Tb(9,"button",7),o.dc("click",function(){return t.$implicit.close("Save click")}),o.Dc(10," Save "),o.Sb(),o.Sb()),2&e){const e=o.gc();o.Ab(2),o.Ec(e.modalTitle)}}const fe=[[["","modalContent",""]]],ye=["[modalContent]"];let ve=(()=>{class e{constructor(e){this.modalService=e,this.modalTitle="",this.saveRequest=new o.n}ngOnInit(){}open(){this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{this.saveRequest.emit(!0)},e=>{this.saveRequest.emit(!1)})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(r.c))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-selection-modal"]],viewQuery:function(e,t){if(1&e&&o.Ic(me,1),2&e){let e;o.tc(e=o.ec())&&(t.content=e.first)}},inputs:{modalTitle:"modalTitle"},outputs:{saveRequest:"saveRequest"},ngContentSelectors:ye,decls:2,vars:0,consts:[["content",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,t){1&e&&(o.kc(fe),o.Bc(0,he,11,1,"ng-template",null,0,o.Cc))},styles:[""]}),e})();function Se(e,t){if(1&e&&o.Ob(0,"i"),2&e){const e=o.gc();o.Cb(e.leftIcon)}}let Te=(()=>{class e{constructor(e){this.elementRef=e,this.titleText="",this.subtitle="",this.actionName="",this.rightIcon="",this.bgColor=""}ngOnInit(){this.elementRef.nativeElement.style.setProperty("--dynamic-color",this.bgColor),this.elementRef.nativeElement.style.setProperty("--dynamic-color-alpha",this.bgColor+"c0")}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(o.l))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-dashboard-card"]],inputs:{leftIcon:"leftIcon",titleText:"titleText",subtitle:"subtitle",actionName:"actionName",rightIcon:"rightIcon",bgColor:"bgColor"},decls:12,vars:9,consts:[[1,"card","w-100","text-white"],[1,"card-header"],[1,"p-0","float-right"],[1,"text-value"],[3,"class",4,"ngIf"],[1,"card-body","align-items-center","d-flex","flex-column","justify-content-center","py-0"],[3,"innerHTML"],[1,"text-center","mb-5",2,"font-size","65%",3,"innerHTML"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Ob(3,"i"),o.Sb(),o.Tb(4,"div",3),o.Bc(5,Se,1,3,"i",4),o.Dc(6),o.Sb(),o.Sb(),o.Tb(7,"div",5),o.Tb(8,"div",6),o.Dc(9),o.Sb(),o.Tb(10,"small",7),o.Dc(11),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.Ab(3),o.Cb(t.rightIcon),o.Ab(2),o.lc("ngIf",t.leftIcon),o.Ab(1),o.Fc(" ",t.titleText," "),o.Ab(2),o.lc("innerHTML",t.actionName,o.xc),o.Ab(1),o.Fc(" ",t.actionName," "),o.Ab(1),o.lc("innerHTML",t.subtitle,o.xc),o.Ab(1),o.Fc(" ",t.subtitle," "))},directives:[i.m],styles:["[_nghost-%COMP%]{--dynamic-color:#20a8d8;--dynamic-color-alpha:#20a8d8d0}.card[_ngcontent-%COMP%]{transition:background-color .2s linear;height:180px}.card[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--dynamic-color)}.card-body[_ngcontent-%COMP%]{transition:font-size .3s linear;background-color:var(--dynamic-color-alpha);font-size:1.7em;font-weight:500}.card-body[_ngcontent-%COMP%]:hover{font-size:1.8em}.card-header[_ngcontent-%COMP%]{background-color:var(--dynamic-color-alpha);border:none!important}"]}),e})();var _e=n("hrfs");const Ce=["countrySelection"],De=["periodSelection"],Oe=["shapChart"];function je(e,t){if(1&e){const e=o.Ub();o.Tb(0,"span",34),o.dc("mouseenter",function(){o.wc(e);const n=t.$implicit;return o.gc().hoveredDate=n})("mouseleave",function(){return o.wc(e),o.gc().hoveredDate=null}),o.Dc(1),o.Sb()}if(2&e){const e=t.$implicit,n=t.focused,a=o.gc();o.Fb("focused",n)("range",a.isRange(e))("faded",a.isHovered(e)||a.isInside(e)),o.Ab(1),o.Fc(" ",e.day," ")}}const Ie=function(){return{year:2020,month:4,day:1}},Ee=function(){return{year:2021,month:5,day:31}},we=function(){return{year:2020,month:4}},ke=function(e){return["/feature-selection",e]},xe=function(e,t,n){return{start_date:e,end_date:t,country_name:n,type:"reproduction"}},Ae=["countrySelection"],Ne=function(e){return["/feature-selection",e]},Pe=function(e,t,n){return{start_date:e,end_date:t,country_name:n,type:"unemployment"}},Ue=[{path:"",component:se,pathMatch:"full"},{path:"500",component:le,data:{title:"Page 500"}},{path:"404",component:ce,data:{title:"Page 404"}},{path:"",component:_,data:{title:"Home"},children:[{path:"reproduction-rate",component:(()=>{class e{constructor(e,t,n){this.datePipe=e,this.countryService=t,this.predictionService=n,this.barChartSettings={options:de.options,color:de.colors,legend:de.legend,type:de.horizontalType,height:de.height},this.chartSettings={options:ge.options,color:ge.colors,legend:ge.legend,type:ge.type},this.chart=new ge,this.barChart=new de,this.countryLoaded=!1}ngOnInit(){let e=localStorage.getItem(I.SELECTED_COUNTRY_ID_KEY+I.REPRODUCTION_FEATURES_TYPE),t=localStorage.getItem(I.FROM_DATE_KEY),n=localStorage.getItem(I.TO_DATE_KEY);this.selectedCountryId=e?parseInt(e):I.DEAFULT_COUNTRY_KEY,this.fromDate=t?this.convertDateToNgbDate(t):I.DEFAULT_FROM_DATE,this.toDate=n?this.convertDateToNgbDate(n):I.DEFAULT_TO_DATE,this.loadingMessageCountries="Loading countries...",this.countryService.getCountries("reproduction").subscribe(e=>{this.countries=e,this.loadingMessageCountries=null,this.countryLoaded=!0,this.ngAfterViewInit(),this.saveCountry(!0),this.savePeriod(!0)})}ngAfterViewInit(){const e=this.myChart.nativeElement.getContext("2d"),t=e.createLinearGradient(0,0,0,600);t.addColorStop(1,"#c0433d"),t.addColorStop(.4,"#f7f6c6"),t.addColorStop(0,"#298752"),de.colors[0].backgroundColor=t,console.log(e.canvas)}onSwitchClick(){this.isOriginalData?(this.isOriginalData=!1,this.updateChart(!1)):(this.isOriginalData=!0,this.updateChart(!0))}convertDateToNgbDate(e){let t=new Date(e);return new r.a(t.getFullYear(),t.getMonth()+1,t.getDate())}loadPredictions(e=!1){let t=localStorage.getItem(I.REPRODUCTION_PREDICTION_KEY+this.getStartDate()+this.getEndDate()+this.selectedCountryObject.iso_code);return t&&!e?(this.chart=JSON.parse(t),this.isOriginalData=!1,!0):(this.isOriginalData=!0,!1)}onDateSelection(e){this.fromDate||this.toDate?this.fromDate&&!this.toDate&&e.after(this.fromDate)?this.toDate=e:(this.toDate=null,this.fromDate=e):this.fromDate=e}isHovered(e){return this.fromDate&&!this.toDate&&this.hoveredDate&&e.after(this.fromDate)&&e.before(this.hoveredDate)}isInside(e){return this.toDate&&e.after(this.fromDate)&&e.before(this.toDate)}isRange(e){return e.equals(this.fromDate)||this.toDate&&e.equals(this.toDate)||this.isInside(e)||this.isHovered(e)}saveCountry(e){e&&(this.selectedCountryObject=this.countries.find(e=>e.id==this.selectedCountryId),localStorage.setItem(I.SELECTED_COUNTRY_ID_KEY+I.REPRODUCTION_FEATURES_TYPE,this.selectedCountryId.toString()),this.barChart=new de,this.loadingMessageSHAP="Fetching SHAP values...",this.predictionService.getSHAPValues(this.selectedCountryObject.iso_code).subscribe(e=>{this.barChart.x=e.x,this.barChart.y=[{data:e.y[0].data}],this.loadingMessageSHAP=null}),this.updateChart())}savePeriod(e){e&&(this.selectedPeriod=this.formatDate(this.getStartDate(),"dd/MM/yyyy")+" - "+this.formatDate(this.getEndDate(),"dd/MM/yyyy"),localStorage.setItem(I.FROM_DATE_KEY,this.getStartDate()),localStorage.setItem(I.TO_DATE_KEY,this.getEndDate()),this.updateChart())}formatDate(e,t="yyyy-MM-dd"){return e?this.datePipe.transform(new Date(e),t):null}getStartDate(){return this.fromDate.year+"-"+this.fromDate.month.toString().padStart(2,"0")+"-"+this.fromDate.day.toString().padStart(2,"0")}getEndDate(){return this.toDate?this.toDate.year+"-"+this.toDate.month.toString().padStart(2,"0")+"-"+this.toDate.day.toString().padStart(2,"0"):null}updateChart(e=!1){this.loadPredictions(e)||(this.chart=new ge,this.loadingMessagePredictions="Fetching original predictions...",this.predictionService.getOriginalPredictions(this.selectedCountryObject.iso_code,{start_date:this.getStartDate(),end_date:this.getEndDate()}).subscribe(e=>{this.chart=e,this.loadingMessagePredictions=null}))}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(i.e),o.Nb(k),o.Nb(E))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-reproduction-rate"]],viewQuery:function(e,t){if(1&e&&(o.Ic(Ce,1),o.Ic(De,1),o.Ic(Oe,1)),2&e){let e;o.tc(e=o.ec())&&(t.countrySelection=e.first),o.tc(e=o.ec())&&(t.periodSelection=e.first),o.tc(e=o.ec())&&(t.myChart=e.first)}},decls:60,vars:51,consts:[[3,"modalTitle","saveRequest"],["countrySelection",""],["modalContent",""],[1,"form-group"],["for","country"],["name","country","bindLabel","name","bindValue","id",3,"items","ngModel","ngModelChange"],["periodSelection",""],["outsideDays","hidden",3,"minDate","maxDate","startDate","displayMonths","dayTemplate","dateSelect"],["dp",""],["t",""],[3,"message"],["pageContent","",1,"animated","fadeIn"],[1,"row","mt-4"],[1,"col-sm-12","col-lg-4"],[3,"leftIcon","titleText","actionName","rightIcon","bgColor","click"],[3,"titleText","actionName","rightIcon","bgColor","click"],[1,"col-sm-12","col-lg-4",3,"routerLink","queryParams"],[3,"titleText","actionName","subtitle","rightIcon","bgColor"],[3,"hidden","message"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-sm-5"],[1,"card-title","mb-0"],[1,"small","text-muted"],[1,"col-sm-7","d-none","d-md-block"],[1,"d-flex","flex-right","flex-column","text-right"],[1,"text-muted","align-items-center"],[1,"ml-1","font-italic"],[1,"chart-wrapper","mt-3","mx-3",2,"height","300px","margin-top","40px"],["baseChart","",1,"chart",3,"datasets","labels","options","colors","legend","chartType"],[1,"chart-wrapper","mt-3","mx-3"],["baseChart","",1,"chart",3,"datasets","labels","options","height","colors","legend","chartType"],["shapChart",""],[1,"custom-day",3,"mouseenter","mouseleave"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selection-modal",0,1),o.dc("saveRequest",function(e){return t.saveCountry(e)}),o.Tb(2,"form",2),o.Tb(3,"div",3),o.Tb(4,"label",4),o.Dc(5,"Select a country: "),o.Sb(),o.Tb(6,"ng-select",5),o.dc("ngModelChange",function(e){return t.selectedCountryId=e}),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(7,"app-selection-modal",0,6),o.dc("saveRequest",function(e){return t.savePeriod(e)}),o.Tb(9,"form",2),o.Tb(10,"ngb-datepicker",7,8),o.dc("dateSelect",function(e){return t.onDateSelection(e)}),o.Sb(),o.Bc(12,je,2,7,"ng-template",null,9,o.Cc),o.Sb(),o.Sb(),o.Tb(14,"app-progress-loader",10),o.Tb(15,"div",11),o.Tb(16,"div",12),o.Tb(17,"div",13),o.Tb(18,"app-dashboard-card",14),o.dc("click",function(){return o.wc(e),o.uc(1).open()}),o.Sb(),o.Sb(),o.Tb(19,"div",13),o.Tb(20,"app-dashboard-card",15),o.dc("click",function(){return o.wc(e),o.uc(8).open()}),o.Sb(),o.Sb(),o.Tb(21,"div",16),o.Ob(22,"app-dashboard-card",17),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(23,"app-progress-loader",18),o.Tb(24,"div",11),o.Tb(25,"div",19),o.Tb(26,"div",20),o.Tb(27,"div",21),o.Tb(28,"div",22),o.Tb(29,"h4",23),o.Dc(30,"COVID-19 Transmissibility"),o.Sb(),o.Tb(31,"div",24),o.Dc(32,"Reproduction rate"),o.Sb(),o.Sb(),o.Tb(33,"div",25),o.Tb(34,"div",26),o.Tb(35,"p",27),o.Dc(36," \u2139\ufe0f"),o.Tb(37,"small",28),o.Dc(38,"Click on a label in the legend to show/hide the related values"),o.Sb(),o.Sb(),o.Tb(39,"p",27),o.Dc(40," \u26a0\ufe0f"),o.Tb(41,"small",28),o.Dc(42,"Every prediction is made on data coming from the previous seven days."),o.Ob(43,"br"),o.Dc(44,"More on this in our paper (link in the about section)"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(45,"div",29),o.Ob(46,"canvas",30),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(47,"app-progress-loader",18),o.Tb(48,"div",11),o.Tb(49,"div",19),o.Tb(50,"div",20),o.Tb(51,"div",21),o.Tb(52,"div",22),o.Tb(53,"h4",23),o.Dc(54,"Policy effectiveness ranking"),o.Sb(),o.Tb(55,"div",24),o.Dc(56," Relative impact of implemented COVID-19 policies on viral control "),o.Sb(),o.Sb(),o.Sb(),o.Tb(57,"div",31),o.Ob(58,"canvas",32,33),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb()}if(2&e){const e=o.uc(13);o.lc("modalTitle","Country selection"),o.Ab(6),o.lc("items",t.countries)("ngModel",t.selectedCountryId),o.Ab(1),o.lc("modalTitle","Period selection"),o.Ab(3),o.lc("minDate",o.oc(42,Ie))("maxDate",o.oc(43,Ee))("startDate",o.oc(44,we))("displayMonths",2)("dayTemplate",e),o.Ab(4),o.lc("message",t.loadingMessageCountries),o.Ab(4),o.lc("leftIcon",null==t.selectedCountryObject?null:t.selectedCountryObject.flag)("titleText",null==t.selectedCountryObject?null:t.selectedCountryObject.name)("actionName","Pick your country")("rightIcon","icon-location-pin")("bgColor","#333333"),o.Ab(2),o.lc("titleText",t.selectedPeriod)("actionName","Choose a period")("rightIcon","icon-calendar")("bgColor","#333333"),o.Ab(1),o.lc("routerLink",o.pc(45,ke,null==t.selectedCountryObject?null:t.selectedCountryObject.iso_code))("queryParams",o.rc(47,xe,t.formatDate(t.getStartDate()),t.formatDate(t.getEndDate()),null==t.selectedCountryObject?null:t.selectedCountryObject.name)),o.Ab(1),o.lc("actionName","Create a <i>What If</i> scenario")("subtitle","Change the characteristics of a country or its implemented policies")("rightIcon","icon-pencil")("bgColor","#333333"),o.Ab(1),o.lc("hidden",!t.countryLoaded)("message",t.loadingMessagePredictions),o.Ab(23),o.lc("datasets",t.chart.y)("labels",t.chart.x)("options",t.chartSettings.options)("colors",t.chartSettings.color)("legend",t.chartSettings.legend)("chartType",t.chartSettings.type),o.Ab(1),o.lc("hidden",!t.countryLoaded)("message",t.loadingMessageSHAP),o.Ab(11),o.lc("datasets",t.barChart.y)("labels",t.barChart.x)("options",t.barChartSettings.options)("height",t.barChartSettings.height)("colors",t.barChartSettings.color)("legend",t.barChartSettings.legend)("chartType",t.barChartSettings.type)}},directives:[ve,c.s,c.l,c.m,s.a,c.k,c.n,r.b,U,Te,g.d,_e.a],styles:[".custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.focused[_ngcontent-%COMP%]{background-color:#e6e6e6}.custom-day.range[_ngcontent-%COMP%], .custom-day[_ngcontent-%COMP%]:hover{background-color:#0275d8;color:#fff}.custom-day.faded[_ngcontent-%COMP%]{background-color:#0275d880}"]}),e})()},{path:"unemployment-rate",component:(()=>{class e{constructor(e,t,n){this.datePipe=e,this.countryService=t,this.predictionService=n,this.barChart=new de,this.barChartOptions={scaleShowVerticalLines:!1,responsive:!0,scales:{type:"linear",yAxes:[{display:!0,ticks:{beginAtZero:!0}}]}},this.barChartType="bar",this.barChartLegend=!0,this.countryLoaded=!1,this.fromDate=I.DEFAULT_FROM_DATE,this.toDate=I.DEFAULT_TO_DATE}ngOnInit(){let e=localStorage.getItem(I.SELECTED_COUNTRY_ID_KEY+I.UNEMPLOYMENT_FEATURES_TYPE);this.selectedCountryId=e?parseInt(e):I.DEAFULT_COUNTRY_KEY,this.loadingMessageCountries="Loading countries...",this.countryService.getCountries("economic").subscribe(e=>{this.countries=e,this.loadingMessageCountries=null,this.countryLoaded=!0,this.saveCountry(!0)})}onSwitchClick(){this.isOriginalData?(this.isOriginalData=!1,this.updateChart(!1)):(this.isOriginalData=!0,this.updateChart(!0))}loadPredictions(e=!1){let t=localStorage.getItem(I.UNEMPLOYMENT_PREDICTION_KEY+this.selectedCountryObject.iso_code);return t&&!e?(this.barChart=JSON.parse(t),this.isOriginalData=!1,!0):(this.isOriginalData=!0,!1)}saveCountry(e){e&&(this.selectedCountryObject=this.countries.find(e=>e.id==this.selectedCountryId),localStorage.setItem(I.SELECTED_COUNTRY_ID_KEY+I.UNEMPLOYMENT_FEATURES_TYPE,this.selectedCountryId.toString()),this.updateChart())}formatDate(e,t="yyyy-MM-dd"){return e?this.datePipe.transform(new Date(e),t):null}getStartDate(){return this.fromDate.year+"-"+this.fromDate.month.toString().padStart(2,"0")+"-"+this.fromDate.day.toString().padStart(2,"0")}getEndDate(){return this.toDate?this.toDate.year+"-"+this.toDate.month.toString().padStart(2,"0")+"-"+this.toDate.day.toString().padStart(2,"0"):null}updateChart(e=!1){this.loadPredictions(e)||(this.barChart=new de,this.loadingMessagePredictions="Fetching original predictions...",this.predictionService.getOriginalPredictions(this.selectedCountryObject.iso_code).subscribe(e=>{this.barChart=e,this.loadingMessagePredictions=null}))}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(i.e),o.Nb(k),o.Nb(O))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-unemployment-rate"]],viewQuery:function(e,t){if(1&e&&o.Ic(Ae,1),2&e){let e;o.tc(e=o.ec())&&(t.countrySelection=e.first)}},decls:38,vars:29,consts:[[3,"modalTitle","saveRequest"],["countrySelection",""],["modalContent",""],[1,"form-group"],["for","country"],["name","country","bindLabel","name","bindValue","id",3,"items","ngModel","ngModelChange"],[3,"message"],["pageContent","",1,"animated","fadeIn"],[1,"row","mt-4"],[1,"col-sm-12","col-lg-6"],[3,"leftIcon","titleText","actionName","rightIcon","bgColor","click"],[1,"col-sm-12","col-lg-6",3,"routerLink","queryParams"],[3,"titleText","actionName","subtitle","rightIcon","bgColor"],[3,"hidden","message"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-sm-5"],[1,"card-title","mb-0"],[1,"small","text-muted"],[1,"col-sm-7","d-none","d-md-block"],[1,"d-flex","flex-right","flex-column","text-right"],[1,"text-muted","align-items-center"],[1,"ml-1","font-italic"],[1,"chart-wrapper","mt-3","mx-3",2,"height","450px","margin-top","40px"],["baseChart","",1,"chart",3,"datasets","labels","options","height","legend","chartType"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-selection-modal",0,1),o.dc("saveRequest",function(e){return t.saveCountry(e)}),o.Tb(2,"form",2),o.Tb(3,"div",3),o.Tb(4,"label",4),o.Dc(5,"Select a country: "),o.Sb(),o.Tb(6,"ng-select",5),o.dc("ngModelChange",function(e){return t.selectedCountryId=e}),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(7,"app-progress-loader",6),o.Tb(8,"div",7),o.Tb(9,"div",8),o.Tb(10,"div",9),o.Tb(11,"app-dashboard-card",10),o.dc("click",function(){return o.wc(e),o.uc(1).open()}),o.Sb(),o.Sb(),o.Tb(12,"div",11),o.Ob(13,"app-dashboard-card",12),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(14,"app-progress-loader",13),o.Tb(15,"div",7),o.Tb(16,"div",14),o.Tb(17,"div",15),o.Tb(18,"div",16),o.Tb(19,"div",17),o.Tb(20,"h4",18),o.Dc(21,"Unemployment Rate"),o.Sb(),o.Tb(22,"div",19),o.Dc(23,"Plot for the selected country"),o.Sb(),o.Sb(),o.Tb(24,"div",20),o.Tb(25,"div",21),o.Tb(26,"p",22),o.Dc(27," \u2139\ufe0f"),o.Tb(28,"small",23),o.Dc(29,"Click on a label in the legend to show/hide the related values"),o.Sb(),o.Sb(),o.Tb(30,"p",22),o.Dc(31," \u26a0\ufe0f"),o.Tb(32,"small",23),o.Dc(33,"Every prediction is made on data coming from the previous thirty days."),o.Ob(34,"br"),o.Dc(35,"More on this in our paper (link in the about section)"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(36,"div",24),o.Ob(37,"canvas",25),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb()}2&e&&(o.lc("modalTitle","Country selection"),o.Ab(6),o.lc("items",t.countries)("ngModel",t.selectedCountryId),o.Ab(1),o.lc("message",t.loadingMessageCountries),o.Ab(4),o.lc("leftIcon",null==t.selectedCountryObject?null:t.selectedCountryObject.flag)("titleText",null==t.selectedCountryObject?null:t.selectedCountryObject.name)("actionName","Pick your country")("rightIcon","icon-location-pin")("bgColor","#333333"),o.Ab(1),o.lc("routerLink",o.pc(23,Ne,null==t.selectedCountryObject?null:t.selectedCountryObject.iso_code))("queryParams",o.rc(25,Pe,t.formatDate(t.getStartDate()),t.formatDate(t.getEndDate()),null==t.selectedCountryObject?null:t.selectedCountryObject.name)),o.Ab(1),o.lc("actionName","Create a <i>What If</i> scenario")("subtitle","Change the characteristics of a country or its implemented policies")("rightIcon","icon-pencil")("bgColor","#333333"),o.Ab(1),o.lc("hidden",!t.countryLoaded)("message",t.loadingMessagePredictions),o.Ab(23),o.lc("datasets",t.barChart.y)("labels",t.barChart.x)("options",t.barChartOptions)("height",60)("legend",t.barChartLegend)("chartType",t.barChartType))},directives:[ve,c.s,c.l,c.m,s.a,c.k,c.n,U,Te,g.d,_e.a],styles:[""]}),e})()},{path:"reinforcement-learning",component:ue},{path:"about",component:C},{path:"feature-selection/:country",component:ne},{path:"base",loadChildren:()=>Promise.all([n.e(1),n.e(6)]).then(n.bind(null,"Cvcy")).then(e=>e.BaseModule)},{path:"buttons",loadChildren:()=>n.e(7).then(n.bind(null,"Reju")).then(e=>e.ButtonsModule)},{path:"charts",loadChildren:()=>n.e(8).then(n.bind(null,"Y+KY")).then(e=>e.ChartJSModule)},{path:"dashboard",loadChildren:()=>n.e(9).then(n.bind(null,"6dU7")).then(e=>e.DashboardModule)},{path:"icons",loadChildren:()=>n.e(10).then(n.bind(null,"aPNi")).then(e=>e.IconsModule)},{path:"notifications",loadChildren:()=>Promise.all([n.e(1),n.e(11)]).then(n.bind(null,"KpDv")).then(e=>e.NotificationsModule)},{path:"theme",loadChildren:()=>n.e(12).then(n.bind(null,"AgMk")).then(e=>e.ThemeModule)},{path:"widgets",loadChildren:()=>n.e(13).then(n.bind(null,"XVX6")).then(e=>e.WidgetsModule)}]},{path:"**",component:ce}];let Me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({imports:[[g.g.forRoot(Ue,{relativeLinkResolution:"legacy"})],g.g]}),e})();var Re=n("FE24"),Le=n("2ZVE");let Fe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({imports:[[i.c,l,r.d,s.b,c.h,_e.b,g.g]]}),e})(),ze=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Lb({type:e,bootstrap:[h]}),e.\u0275inj=o.Kb({providers:[{provide:i.j,useClass:i.s},i.e,p.d],imports:[[a.a,d.b,u.a,Me,y.a,y.b.forRoot(),y.c,y.e,y.h,b.b,Re.c.forRoot(),Le.c.forRoot(),_e.b,p.b,p.c.forRoot(),Fe,r.d,c.h,l,ie.b]]}),e})();Object(o.S)(),a.c().bootstrapModule(ze,{useJit:!0,preserveWhitespaces:!0}).catch(e=>console.log(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0,5]]]);